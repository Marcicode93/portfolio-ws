<section data-aos="fade-left">
  <div class="content">
    <div class="headline">
      <div class="line"></div>
      <h1>{{ "contact.contact" | translate }}</h1>
    </div>

    <div class="elements">
      <div class="left">
        <span class="subtitle">{{ "contact.tagline" | translate }}</span>
        <p>{{ "contact.text" | translate }}</p>
      </div>
      <div class="right">
        <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
          <label class="label">Name:</label>
          <input
            [(ngModel)]="contactData.name"
            name="name"
            #nameField="ngModel"
            type="text"
            [placeholder]="'contact.name_placeholder' | translate"
            class="input-field"
            required
          />
          <div class="error">
            @if (nameField.invalid && nameField.touched) {
              {{ "contact.name_required" | translate }}
            }
          </div>
          <label class="label">Email:</label>
          <input
            [(ngModel)]="contactData.email"
            name="email"
            type="email"
            #emailField="ngModel"
            [placeholder]="'contact.email_placeholder' | translate"
            class="input-field"
            required
            pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
          />
          <div class="error">
            @if (emailField.invalid && emailField.touched) {
              {{ "contact.email_required" | translate }}
            }
          </div>
          <label class="label">Message:</label>
          <textarea
            minlength="4"
            [(ngModel)]="contactData.message"
            class="input-field ip3"
            name="message"
            #messageField="ngModel"
            [placeholder]="'contact.msg_placeholder' | translate"
            rows="30"
            cols="50"
            required
          ></textarea>
          <div class="error">
            @if (messageField.invalid && messageField.touched) {
              {{ "contact.message_required" | translate }}
            }
          </div>
          <div class="checkbox">
            @if (isChecked) {
              <img
                src="../../../assets/img/06_contact/Property 1=Checked.png"
                (click)="toggleCheckbox()"
                alt="checkbox-checked"
              />
            } @else {
              <img
                src="../../../assets/img/06_contact/Property 1=Default.png"
                (click)="toggleCheckbox()"
                alt="checkbox-unchecked"
              />
            }
            <p [innerHTML]="'contact.privacy' | translate" (click)="handleLinkClick($event)"></p>
            @if (formSubmitted && !isChecked) {
              <p class="error-message" style="color: red">Please accept the privacy policy.</p>
            }
          </div>
          <button
            type="submit"
            [disabled]="contactForm.invalid || !isChecked"
            class="btn-primary"
            [innerHTML]="'contact.submit' | translate"
          ></button>
          @if (messageSent) {
            <span class="success-message">{{ "contact.success" | translate }}</span>
          }
        </form>
      </div>
    </div>
    <div class="go-up">
      <a href="#main">
        <img
          src="../../../assets/img/06_contact/4. Go up button.png"
          alt="go-up-button"
        />
      </a>
    </div>
  </div>
</section>